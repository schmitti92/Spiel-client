<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Lichtarena (Prototype – Offline)</title>  <link rel="stylesheet" href="./lichtarena.css?v=la_clean1" />
  <!-- NOTE: This page expects lichtarena.css + lichtarena_client.js with matching IDs. -->
</head>
<body>
  <div class="la-shell">
    <div class="la-topbar">
      <div class="la-title">
        <h1>Lichtarena</h1>
        <div class="sub">Prototype – Offline</div>
      </div>

      <div class="la-chips">
        <div class="chip">Modus <b>Offline lokal</b></div>
        <div class="chip">Regel <b>Board 1 startet mit Licht auf allen Lichtfeldern</b></div>
        <div class="chip">Am Zug <span class="dot red" id="turnDot"></span> <b id="turnText">RED</b></div>
        <div class="chip">Server-ready <b>später leicht umstellbar</b></div>
      </div>
    </div>

    <div class="la-main">
      <!-- Board Panel -->
      <div class="panel la-boardWrap" id="boardPanel">
        <div class="la-status">
          <div id="statusLine">Status: –</div>
          <div class="hint">Touch: 1 Finger ziehen = verschieben · 2 Finger = pinch-zoom · Maus: Scroll = zoom</div>
        </div>

        <div class="la-boardArea">
          <div id="boardViewport">
            <div id="world">
              <svg id="edgesSvg"></svg>
              <div id="stage"></div>
            </div>

            <div class="la-boardHud">
              <div class="hudBox">
                <button class="btn small ghost" id="btnFit">Fit</button>
                <button class="btn small ghost" id="btnZoomOut">–</button>
                <b id="zoomPct">100%</b>
                <button class="btn small ghost" id="btnZoomIn">+</button>
                <button class="btn small ghost" id="btnResetView">Reset</button>
                <button class="btn small" id="btnToggleLines">Linien: AN</button>
              </div>

              <div class="hudBox">
                <span class="kbd">Debug</span>
                <button class="btn small" id="btnRestart">Restart</button>
                <button class="btn small" id="btnSave">Save</button>
                <button class="btn small" id="btnLoad">Load</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Side Panel -->
      <div class="panel la-side" id="sidePanel">
        <div class="sec">
          <div class="row">
            <h3 style="margin:0">Spieler</h3>
            <div class="row" style="gap:8px">
              <span class="dot red" id="activeDot"></span>
              <b id="activeColorLabel">RED</b>
            </div>
          </div>
          <div class="row" style="margin-top:10px">
            <button class="btn small ghost" id="btnPrevPlayer">◀</button>
            <div class="muted">Figur anklicken → auswählen. Dann auf verbundenes Feld klicken = 1 Schritt.</div>
            <button class="btn small ghost" id="btnNextPlayer">▶</button>
          </div>
        </div>

        <div class="sec">
          <div class="row">
            <h3 style="margin:0">Würfel</h3>
            <div class="muted">Aktuell: <b id="hudDice">6</b></div>
          </div>
          <div class="row" style="margin-top:10px">
            <button class="btn" id="btnRoll">Würfeln</button>
            <input class="input" id="diceValue" type="number" min="1" max="6" value="6" />
          </div>
        </div>

        <div class="sec">
          <div class="row">
            <h3 style="margin:0">Licht</h3>
            <div class="muted">Aktiv: <b id="hudActiveLights">0</b> · Gesammelt: <b id="hudLightTotal">0</b> / <b id="hudLightGoal">5</b></div>
          </div>
          <div style="margin-top:10px">
            <button class="btn yellow" id="btnForceSpawnLight">Test: Licht spawnen</button>
          </div>
        </div>

        <div class="sec">
          <div class="row">
            <h3 style="margin:0">Ereignis</h3>
            <div class="muted">Barikaden</div>
          </div>
          <div class="row" style="margin-top:10px">
            <button class="btn red" id="btnSpawnBarricade">Barikade spawnen</button>
            <button class="btn" id="btnClearDynamicBarricades">Barikaden löschen</button>
          </div>
        </div>

        <div class="sec">
          <div class="row">
            <h3 style="margin:0">Joker (am Zug)</h3>
            <div class="muted">Start: <b>2× je Typ</b></div>
          </div>
          <div style="margin-top:8px">
            <table class="jtab" id="jokerTable">
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./game_rules_lights_barricades.js?v=la_clean1"></script>
  <script src="./lichtarena_client.js"></script>
</body>
</html>


