<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lichtarena – Prototype (offline)</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    html, body { height:100%; margin:0; }
    body{ background:#0b1220; color:#e5e7eb; overflow:hidden; }
    header{padding:10px 12px;border-bottom:1px solid rgba(148,163,184,.15);background:rgba(2,6,23,.55);backdrop-filter: blur(8px)}
    header h1{margin:0;font-size:14px;font-weight:700;letter-spacing:.3px}
    header .muted{font-size:12px;color:rgba(226,232,240,.75)}
    .wrap{display:grid;grid-template-columns:340px 1fr;min-height:calc(100vh - 56px)}
    aside{padding:12px;overflow:auto;border-right:1px solid rgba(148,163,184,.12);background:rgba(2,6,23,.45)}
    main{position:relative;overflow:hidden}
    canvas{width:100%;height:100%;display:block;background:linear-gradient(180deg, rgba(15,23,42,.9), rgba(2,6,23,.95));touch-action:none}
    .card{border:1px solid rgba(148,163,184,.15);border-radius:14px;padding:10px 10px 12px;margin-bottom:10px;background:rgba(15,23,42,.45)}
    .row{display:flex;align-items:center;justify-content:space-between;gap:8px;margin:6px 0}
    .badge{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid rgba(148,163,184,.20);background:rgba(15,23,42,.55)}
    .btn{appearance:none;border:1px solid rgba(148,163,184,.25);background:rgba(15,23,42,.75);color:#e5e7eb;padding:8px 10px;border-radius:12px;cursor:pointer}
    .btn:disabled{opacity:.45;cursor:not-allowed}
    .btn.small{padding:6px 10px;border-radius:10px;font-size:12px}
    .muted2{font-size:12px;color:rgba(226,232,240,.72)}
    select{background:rgba(15,23,42,.75);border:1px solid rgba(148,163,184,.25);color:#e5e7eb;border-radius:10px;padding:6px 8px}
    .hud{position:absolute;top:12px;right:12px;display:flex;gap:8px;align-items:center;z-index:10}
    #zoomLabel{font:12px ui-monospace, monospace;opacity:.9;padding:6px 8px;border-radius:10px;border:1px solid rgba(148,163,184,.20);background:rgba(15,23,42,.55)}
    #log{max-height:180px;overflow:auto;font:12px ui-monospace, monospace;white-space:pre-wrap;line-height:1.35}
  </style>
</head>
<body>
  <header>
    <h1>Lichtarena – Prototype (offline)</h1>
    <div class="muted">Spawn: 50% Zentrum · 30% Mittel · 20% Außen · Re-Spawn nach „jeder Spieler 5 Züge“ · nicht gleiches Feld</div>
  </header>
  <div class="wrap">
    <aside>
      <div class="card">
        <div class="row"><span class="badge">Spieler <span id="pCount">4</span></span><span class="badge">Zug <span id="turnLabel">–</span></span></div>
        <div class="row"><span class="badge">Barikaden <span id="bCount">0/15</span></span></div>
        <div class="row"><span class="badge" id="lightBadge">Licht: –</span></div>
        <div class="row"><span class="badge" id="phaseBadge">Phase: –</span></div>
        <div class="row"><span class="badge" id="scoreBadge">Punkte: –</span></div>
      </div>
      <div class="card">
        <div class="muted2" style="margin-bottom:8px">Links ziehen = Board verschieben · Mausrad = Zoom · Doppelklick = Zoom · Touch: 1 Finger schieben, 2 Finger zoomen.</div>
        <div class="row"><label class="muted2">Spieleranzahl</label>
          <select id="playersSel"><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option><option value="6">6</option></select>
        </div>
      </div>
      <div class="card">
        <div class="row"><span class="badge">Würfel</span><span class="badge" id="diceVal">–</span></div>
        <div class="row"><span class="badge">Restschritte</span><span class="badge" id="stepsLeft">–</span></div>
        <div class="row" style="gap:10px"><button class="btn" id="rollBtn">Würfeln</button><button class="btn" id="endTurnBtn">Zug beenden</button></div>
        <div class="row" style="gap:10px"><button class="btn small" id="resetBtn">Reset</button><button class="btn small" id="nextTurnBtn">Nächster Zug</button></div>
      </div>
      <div class="card">
        <div class="row"><span class="badge">J1</span><span class="badge" id="j1">0</span><button class="btn small" id="giveJ1">+J1</button><button class="btn small" id="useJ1">J1 nutzen</button></div>
        <div class="row"><span class="badge">J2</span><span class="badge" id="j2">0</span><button class="btn small" id="giveJ2">+J2</button><button class="btn small" id="useJ2">J2 nutzen</button></div>
        <div class="row"><span class="badge">J3</span><span class="badge" id="j3">0</span><button class="btn small" id="giveJ3">+J3</button><button class="btn small" id="useJ3">J3 nutzen</button></div>
        <div class="row"><span class="badge">J4</span><span class="badge" id="j4">0</span><button class="btn small" id="giveJ4">+J4</button><button class="btn small" id="useJ4">J4 nutzen</button></div>
        <div class="row"><span class="badge">J5</span><span class="badge" id="j5">0</span><button class="btn small" id="giveJ5">+J5</button><button class="btn small" id="useJ5">J5 nutzen</button></div>
        <div class="row"><span class="muted2">J5 aktiv</span><span class="badge" id="j5a">nein</span></div>
      </div>
      <div class="card"><div class="row"><span class="badge">Log</span></div><div id="log"></div></div>
    </aside>
    <main>
      <canvas id="c"></canvas>
      <div class="hud">
        <button class="btn small" id="btnFit">Fit</button>
        <button class="btn small" id="btnZoomOut">–</button>
        <span id="zoomLabel">100%</span>
        <button class="btn small" id="btnZoomIn">+</button>
      </div>
    </main>
  </div>
  <script src="lichtarena.js?v=la5"></script>
</body>
</html>
