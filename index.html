<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Barikade</title>

  <!-- Base Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- A2.1 Joker Panel FINAL (CSS only, Click-Fix) -->
  <link rel="stylesheet" href="joker-panel-a2.1-final.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">B</div>
        <div>
          <div class="title">Barikade</div>
          <div class="subtitle">Online â€¢ Server steuert WÃ¼rfel + ZÃ¼ge â€¢ 2â€“3 Spieler</div>
        </div>
      </div>

      <div class="topControls">
        <div class="turnPill"><span id="turnDot" class="dot"></span><span id="turnText">â€“</span></div>
        <button id="rollBtn" class="btn">WÃ¼rfeln</button>
        <div class="dicePill">
          <div id="diceCube" data-face="0">
            <div class="dip p1"><span class="pip"></span></div>
            <div class="dip p2"><span class="pip"></span></div>
            <div class="dip p3"><span class="pip"></span></div>
            <div class="dip p4"><span class="pip"></span></div>
            <div class="dip p5"><span class="pip"></span></div>
            <div class="dip p6"><span class="pip"></span></div>
            <div class="dip p7"><span class="pip"></span></div>
            <div class="dip p8"><span class="pip"></span></div>
            <div class="dip p9"><span class="pip"></span></div>
          </div>
        </div>
        <button id="endBtn" class="btn">Zug beenden</button>
        <button id="skipBtn" class="btn">Runde aussetzen</button>
        <button id="resetBtn" class="btn">Reset</button>
      </div>
    </header>

    <main class="main">
      <section class="boardWrap">
        <canvas id="c"></canvas>
      </section>

      <aside class="side">

        <!-- STATUS -->
        <div class="card">
          <h3>Status</h3>
          <div class="kv"><span>Board</span><span id="boardInfo">â€“</span></div>
          <div class="kv"><span>Barikaden</span><span id="barrInfo">â€“</span></div>
        </div>

        <!-- ONLINE -->
        <div class="card">
          <h3>Online</h3>
          <div class="muted">Server ist fest hinterlegt. Du brauchst nur noch einen Raumcode.</div>
          <div class="kv"><span>Server</span><span id="serverLabel">â€“</span></div>

          <label class="lbl">Raumcode</label>
          <input id="roomCode" class="inp" placeholder="z.B. A7K3Q2" />

          <div class="row">
            <button id="hostBtn" class="btn">Host</button>
            <button id="joinBtn" class="btn">Beitreten</button>
            <button id="leaveBtn" class="btn">Trennen</button>
            <button id="startBtn" class="btn" disabled>Spiel starten</button>
          </div>

          <label class="muted" style="display:flex; gap:10px; align-items:center; margin-top:8px;">
            <input id="actionModeToggle" type="checkbox" />
            Action-Modus (Joker-Spiel)
          </label>

          <div class="kv"><span>Status</span><span id="netStatus" class="ok">Offline</span></div>
          <div class="kv"><span>Du bist</span><span id="myColor">â€“</span></div>
          <div class="kv"><span>Aktive Spieler</span><span id="netPlayers">â€“</span></div>
          <div class="kv"><span>Verbindung</span><span id="connStatus">â€“</span></div>
          <div class="kv"><span>Warte auf</span><span id="waitReason">â€“</span></div>

          <div id="colorPick" style="display:none;">
            <div class="lbl">WÃ¤hle deine Farbe</div>
            <div class="colorRow">
              <button id="pickRed" class="btnColor">Rot</button>
              <button id="pickBlue" class="btnColor">Blau</button>
              <button id="pickGreen" class="btnColor">GrÃ¼n</button>
              <button id="pickYellow" class="btnColor">Gelb</button>
            </div>
            <div class="muted" style="margin-top:6px;">Farbe bleibt reserviert (Reconnect).</div>
          </div>
        </div>

        <!-- ACTION MODE -->
        <div id="actionCard" class="card" style="display:none;">
          <h3>âš¡ Action-Joker</h3>
          <div class="muted" id="actionHint">â€“</div>

          <div class="joker-grid">
            <button id="jokerChooseBtn" class="joker-btn">ðŸŽ¯ Choose</button>
            <button id="jokerSumBtn" class="joker-btn">âž• Summe</button>
            <button id="jokerAllColorsBtn" class="joker-btn">ðŸŽ® Alle Farben</button>
            <button id="jokerBarricadeBtn" class="joker-btn">ðŸ§± Barikade</button>
          </div>

          <div id="chooseBox">
            <div class="muted">Choose: WÃ¤hle deinen Wurf</div>
            <button id="choosePickA" class="btn">Wurf A</button>
            <button id="choosePickB" class="btn">Wurf B</button>
          </div>

          <div id="barricadeBox">
            <div id="barricadeHint">Barikade: klicke Quelle, dann Ziel</div>
            <button id="barricadeCancel" class="btn">Abbrechen</button>
            <button id="barricadeClear" class="btn">Auswahl lÃ¶schen</button>
          </div>
        </div>

      </aside>
    </main>
  </div>

  <script src="game.js"></script>
</body>
</html>
